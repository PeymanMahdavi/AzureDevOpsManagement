parameters:
  - name : repository
    type: string
  - name: organizationUrl
    type: string
  - name: projectName
    type: string
  - name: targetBranch
    type: string
  - name: denyForcePushPermission
    type: string
  - name: denyEditPoliciesPermission
    type: string
  - name: denyBypassPRPermission
    type: string
  - name: denyBypassPushPermission
    type: string
  - name: isPolicyEnabled
    type: string
  - name: minimumApproversPolicy
    type: string
  - name: resetApproveVotesPolicy
    type: string
  - name: resetRejectVotesPolicy
    type: string

steps:
  - bash: |
      set -euo pipefail

      echo "Setting permissions and policies for repository: ${{ parameters.repository }} on branch: ${{ parameters.targetBranch }}"

      
    displayName: 'Set Repository permissions & policies'
    env:
      SYSTEM_ACCESSTOKEN: $(System.AccessToken)